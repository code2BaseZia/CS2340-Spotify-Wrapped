{% load math_filters %}

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     viewBox="0 0 2048 2048" class="absolute z-0 inset-[-11.69%]">
    <defs>
        <linearGradient id="bg9" x1="0" y1="0" x2="0" y2="100%">
            <stop offset="0" class="text-base-100"/>
            <stop offset="1" class="text-base-300"/>
        </linearGradient>
    </defs>
    <style>
        stop {
            stop-color: currentColor;
        }
    </style>
    <rect fill="url(#bg9)" x="194" y="194" width="1660" height="1660"/>
    <g class="fill-primary">
        <path d="M1220.337,457.153c179.603-106.016,348.045-144.401,633.663-144.401-285.619,0-454.061-38.385-633.663-144.401,164.383,97.032,146.114,137.403-77.143,143.549-86.932-6.083-119.194-46.419-119.194-143.549,0,97.13-32.262,137.466-119.194,143.549-223.257-6.146-241.526-46.517-77.143-143.549-179.603,106.016-348.045,144.401-633.663,144.401,285.619,0,454.061,38.385,633.663,144.401-164.383-97.032-146.114-137.403,77.143-143.549,86.932,6.083,119.194,46.419,119.194,143.549,0-97.13,32.262-137.466,119.194-143.549,223.257,6.146,241.526,46.517,77.143,143.549Z"/>
    </g>
    <g class="fill-primary">
        <polygon points="1025.639 477.977 1025.639 477.978 1025.638 477.978 1025.639 477.977"/>
        <polygon points="1022.361 477.977 1022.362 477.978 1022.361 477.978 1022.361 477.977"/>
        <path d="M1001.562,485.698c7.302-2.341,14.742-4.727,22.438-7.195-7.696,2.468-15.136,4.853-22.438,7.195Z"/>
        <path d="M1024,478.503c8.96,2.873,17.62,5.65,26.046,8.351-8.427-2.702-17.087-5.479-26.046-8.351Z"/>
        <path d="M1025.639,477.977s-.008,.003-.012,.004c.003-.001,.007-.002,.011-.003,0,0,0,0,0,0Z"/>
        <path d="M1025.639,744.637c-.548-.176-1.073-.344-1.619-.519,.542,.174,1.063,.341,1.607,.515,.004,.001,.008,.003,.012,.004Z"/>
        <path d="M969.364,726.593c1.955,.627,3.985,1.278,5.974,1.915-1.99-.638-4.021-1.289-5.978-1.917,0,0,.002,0,.003,.001Z"/>
        <path d="M1022.384,477.985s-.008-.003-.011-.004l.005,.002s.004,.001,.006,.002Z"/>
        <path d="M1022.361,477.977s0,0,0,0c.004,.001,.008,.002,.012,.003-.005-.001-.008-.003-.013-.004Z"/>
        <path d="M1022.361,744.637s.008-.003,.013-.004c.544-.174,1.064-.342,1.607-.515-.546,.175-1.072,.343-1.62,.519Z"/>
        <path d="M975.338,728.508c15.263,4.894,31.439,10.081,48.662,15.603,17.224-5.523,33.399-10.709,48.663-15.603-15.264,4.894-31.439,10.081-48.663,15.603-17.224-5.522-33.399-10.709-48.662-15.603Z"/>
        <path d="M969.357,726.591c-267.874-88.993-267.874-141.574,0-230.567,10.261-3.29,21.032-6.744,32.205-10.326-11.171,3.582-21.941,7.035-32.201,10.325,7.696-2.557,15.583-5.14,23.721-7.758-288.693,90.079-504.764,123.043-799.082,123.043,294.318,0,510.389,32.964,799.082,123.043-8.137-2.618-16.024-5.201-23.718-7.757-.003,0-.005-.001-.007-.002Zm-155.789-180.614c-1.758,.564-3.379,1.083-4.861,1.559,1.482-.475,3.103-.995,4.861-1.559Zm-4.861,129.103c1.482,.475,3.103,.995,4.861,1.558-1.758-.564-3.379-1.083-4.861-1.558Z"/>
        <path d="M1025.628,477.981l-.013,.004s.004-.001,.007-.002c.002,0,.003-.001,.006-.002Z"/>
        <path d="M1050.046,486.854c9.885,3.17,19.437,6.232,28.597,9.17,267.874,88.993,267.874,141.574,0,230.567-.002,0-.004,.001-.006,.002-7.695,2.556-15.582,5.139-23.718,7.757,288.692-90.079,504.764-123.043,799.081-123.043-294.317,0-510.389-32.964-799.081-123.043,8.138,2.618,16.025,5.201,23.721,7.758-9.158-2.937-18.709-5.999-28.593-9.168Zm92.675,219.19c8.369-2.684,16.23-5.204,23.619-7.573-7.389,2.369-15.25,4.89-23.619,7.573Zm91.712-29.407c1.758-.564,3.378-1.083,4.861-1.558-1.483,.475-3.103,.995-4.861,1.558Zm4.861-129.103c-1.483-.475-3.103-.995-4.861-1.559,1.758,.564,3.378,1.083,4.861,1.559Zm-72.954-23.392c-7.389-2.369-15.25-4.89-23.619-7.573,8.369,2.683,16.23,5.204,23.619,7.573Z"/>
        <path d="M1024.02,478.497c.546-.175,1.07-.343,1.617-.519-.005,.002-.011,.003-.016,.005-.541,.174-1.061,.34-1.601,.514Z"/>
        <path d="M1072.663,728.508c1.989-.638,4.018-1.288,5.974-1.915,0,0,.002,0,.003-.001-1.957,.627-3.987,1.278-5.977,1.917Z"/>
        <path d="M1024,478.497s.006,.002,.009,.003c10.404,3.332,20.694,6.578,30.91,9.765-9.967-3.207-20.268-6.462-30.899-9.768-.003-.001-.007-.002-.009-.003,.539-.173,1.065-.336,1.604-.509-.546,.169-1.069,.336-1.615,.506-.546-.17-1.068-.336-1.616-.506,.539,.173,1.067,.336,1.606,.509-.003,.001-.007,.002-.009,.003-10.63,3.306-20.931,6.561-30.899,9.768,10.215-3.187,20.505-6.433,30.909-9.765,.003,0,.007-.002,.009-.003Z"/>
        <path d="M1024.009,744.115s-.006,.002-.009,.003c-.003,0-.006-.002-.009-.003-10.404-3.332-20.694-6.577-30.909-9.765,9.967,3.207,20.268,6.462,30.899,9.768,.003,0,.006,.002,.009,.003-.543,.174-1.074,.338-1.617,.512-.004,.001-.008,.003-.012,.004,.555-.172,1.085-.341,1.639-.513,.553,.172,1.084,.341,1.639,.513-.003-.001-.007-.003-.011-.004-.544-.174-1.074-.339-1.617-.512,.003,0,.006-.002,.009-.003,10.63-3.306,20.931-6.561,30.899-9.768-10.216,3.187-20.506,6.433-30.91,9.765Z"/>
        <path d="M1022.362,477.978c.547,.176,1.072,.344,1.618,.519-.541-.173-1.059-.34-1.602-.514-.005-.002-.01-.003-.016-.005Z"/>
    </g>
    <g class="fill-secondary">
        <path d="M346.727,662.272c0,618.035-5.047,595.145,131.218,595.145-136.265,0-131.218-22.89-131.218,595.145,0-618.035,5.047-595.145-131.218-595.145,136.265,0,131.218,22.89,131.218-595.145Z"/>
    </g>
    <g class="fill-neutral">
        <path d="M1208.629,1014.079c-38.742-25.589-80.207-43.816-122.745-55.02,15.854,7.655,31.391,16.432,46.487,26.403,182.438,120.498,232.651,366.077,112.152,548.515-1.631,2.469-3.295,4.903-4.971,7.324,31.725,16.492,67.923-16.495,140.397-126.223-74.067,112.14-89.287,157.971-59.099,180.138,1.71-2.472,3.409-4.955,5.074-7.475,126.023-190.802,73.508-447.639-117.294-573.662Z"/>
        <path d="M1178.293,1720.391c72.479-109.735,88.607-155.974,60.979-178.679-122.262,176.096-363.434,223.193-543.264,104.418-15.096-9.971-29.267-20.815-42.531-32.392,27.002,34.727,60.042,65.709,98.784,91.298,188.245,124.334,440.756,74.871,568.513-109.71-32.237-19.062-68.415,12.927-142.482,125.066Z"/>
    </g>
</svg>
<div class="absolute inset-0 z-10 flex flex-col items-stretch justify-start text-left p-2 md:p-4 lg:p-6 gap-[3%] display">
    <h3>Your listening explored so many genres. Here are your top 10:</h3>
    <div class="grow shrink grid grid-cols-genres grid-rows-10 justify-items-start items-center gap-x-[2%]">
        {% for genre in top_genres %}
            <h5 class="!font-display col-start-1 justify-self-center">#{{ forloop.counter }}</h5>
            <h6 class="col-start-2 justify-self-start">{{ genre.name }}</h6>
            <div class="col-start-3 avatar-group -space-x-4 lg:-space-x-5">
                {% for artist in genre.top_artists %}
                    {% widthratio forloop.counter0 2 20 as z %}
                    <div class="avatar border-transparent relative z-{{ 30|subtract:z|floatformat:0 }}">
                        <div class="w-4 md:w-6 lg:w-8 rounded">
                            <img src="{{ artist.photo }}" alt="{{ artist.name }}"/>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="col-start-4 p-2 flex justify-start items-stretch place-self-stretch">
                <span class="bg-accent" style="width: {% widthratio genre.freq 1 100 %}%;"></span>
            </div>
        {% endfor %}
    </div>
</div>
<script>
    animations[9].start = () => {

    }

    animations[9].end = () => {

    }
</script>